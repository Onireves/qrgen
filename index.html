<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QR Generator</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <!-- QR Code Library -->
    <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.1/build/qrcode.min.js"></script>
    <style>
        /* Custom smooth scroll and selection color */
        ::selection {
            background-color: rgba(59, 130, 246, 0.3);
        }
        body {
            background-color: #000000;
            color: white;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
        }
        /* Hide the canvas used for generation */
        #qr-canvas {
            display: none;
        }
        /* Smooth fade-in animation */
        .fade-in {
            animation: fadeIn 0.7s ease-out forwards;
            opacity: 0;
            transform: scale(0.95);
        }
        @keyframes fadeIn {
            to {
                opacity: 1;
                transform: scale(1);
            }
        }
    </style>
</head>
<body class="min-h-screen flex flex-col items-center justify-center p-6">

    <!-- Main Container -->
    <div class="w-full max-w-4xl grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-24 items-center fade-in">
        
        <!-- Left Column: Controls -->
        <div class="space-y-8 order-2 lg:order-1">
            <div class="space-y-2">
                <h1 class="text-4xl md:text-5xl font-semibold tracking-tight text-transparent bg-clip-text bg-gradient-to-br from-white to-neutral-500">
                    QR Generator
                </h1>
                <p class="text-neutral-400 text-lg font-medium">
                    Create, customize, and share.
                </p>
            </div>

            <div class="space-y-6">
                <!-- Input Group -->
                <div class="group relative">
                    <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                        <i data-lucide="link" class="h-5 w-5 text-neutral-500 group-focus-within:text-blue-500 transition-colors"></i>
                    </div>
                    <input
                        type="text"
                        id="url-input"
                        value="https://www.apple.com"
                        placeholder="https://example.com"
                        class="block w-full pl-12 pr-12 py-4 bg-[#1c1c1e] border border-[#2c2c2e] rounded-2xl text-lg placeholder-neutral-600 text-white focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all duration-300 shadow-lg"
                    />
                    <div class="absolute inset-y-0 right-2 flex items-center">
                        <button 
                            onclick="copyToClipboard()"
                            class="p-2 hover:bg-white/10 rounded-lg transition-colors text-neutral-500 hover:text-white"
                            title="Copy URL"
                        >
                            <i id="copy-icon" data-lucide="copy" class="h-5 w-5"></i>
                        </button>
                    </div>
                </div>

                <!-- Format Selection -->
                <div class="space-y-4 pt-4">
                    <h3 class="text-sm font-semibold text-neutral-500 uppercase tracking-wider">Download Options</h3>
                    
                    <div class="grid grid-cols-1 sm:grid-cols-3 gap-3">
                        <button onclick="downloadQR('png')" class="flex items-center justify-center gap-2 py-3 px-4 bg-[#1c1c1e] hover:bg-[#2c2c2e] active:scale-95 border border-[#2c2c2e] rounded-xl text-white font-medium transition-all duration-200 group">
                            <i data-lucide="file-image" class="w-4 h-4 text-blue-400 group-hover:text-blue-300"></i>
                            <span>PNG</span>
                        </button>
                        
                        <button onclick="downloadQR('jpeg')" class="flex items-center justify-center gap-2 py-3 px-4 bg-[#1c1c1e] hover:bg-[#2c2c2e] active:scale-95 border border-[#2c2c2e] rounded-xl text-white font-medium transition-all duration-200 group">
                            <i data-lucide="file-image" class="w-4 h-4 text-purple-400 group-hover:text-purple-300"></i>
                            <span>JPG</span>
                        </button>
                        
                        <button onclick="downloadQR('svg')" class="flex items-center justify-center gap-2 py-3 px-4 bg-[#1c1c1e] hover:bg-[#2c2c2e] active:scale-95 border border-[#2c2c2e] rounded-xl text-white font-medium transition-all duration-200 group">
                            <i data-lucide="file-code" class="w-4 h-4 text-green-400 group-hover:text-green-300"></i>
                            <span>SVG</span>
                        </button>
                    </div>
                </div>
                
                <p class="text-xs text-neutral-600 pt-4">
                    High resolution output optimized for print and digital use.
                </p>
            </div>
        </div>

        <!-- Right Column: Preview -->
        <div class="flex flex-col items-center justify-center order-1 lg:order-2">
            <div class="relative group">
                <!-- Glow effect -->
                <div class="absolute -inset-1 bg-gradient-to-r from-blue-600 to-purple-600 rounded-[2.5rem] blur opacity-25 group-hover:opacity-50 transition duration-1000 group-hover:duration-200"></div>
                
                <div class="relative bg-white p-8 md:p-12 rounded-[2rem] shadow-2xl flex items-center justify-center overflow-hidden">
                    <!-- The hidden canvas for generation -->
                    <canvas id="qr-canvas"></canvas>
                    
                    <!-- The visible image for preview -->
                    <div class="w-64 h-64 md:w-80 md:h-80 flex items-center justify-center">
                        <img id="qr-preview" alt="QR Code" class="w-full h-full object-contain mix-blend-multiply" />
                        <div id="empty-state" class="hidden text-neutral-300 text-center">
                            <div class="mb-2 mx-auto w-12 h-12 rounded-full bg-neutral-100 flex items-center justify-center">
                                <i data-lucide="link" class="text-neutral-300"></i>
                            </div>
                            <span class="text-sm font-medium">Enter a URL</span>
                        </div>
                    </div>
                    
                    <!-- Corner Accents -->
                    <div class="absolute top-6 left-6 w-8 h-8 border-l-2 border-t-2 border-neutral-900/10 rounded-tl-xl"></div>
                    <div class="absolute top-6 right-6 w-8 h-8 border-r-2 border-t-2 border-neutral-900/10 rounded-tr-xl"></div>
                    <div class="absolute bottom-6 left-6 w-8 h-8 border-l-2 border-b-2 border-neutral-900/10 rounded-bl-xl"></div>
                    <div class="absolute bottom-6 right-6 w-8 h-8 border-r-2 border-b-2 border-neutral-900/10 rounded-br-xl"></div>
                </div>
            </div>
            
            <div class="mt-8 flex gap-2 text-neutral-500 text-sm font-medium">
                <span class="flex items-center gap-1.5 px-3 py-1 rounded-full bg-[#1c1c1e] border border-[#2c2c2e]">
                    <span class="w-2 h-2 rounded-full bg-green-500 animate-pulse"></span>
                    Ready to export
                </span>
            </div>
        </div>
    </div>

    <script>
        // Initialize Icons
        lucide.createIcons();

        const canvas = document.getElementById('qr-canvas');
        const input = document.getElementById('url-input');
        const previewImg = document.getElementById('qr-preview');
        const emptyState = document.getElementById('empty-state');
        const copyIcon = document.getElementById('copy-icon');

        const QR_SIZE = 1024; // High res for download

        // Generate Function
        function generateQR() {
            const url = input.value;
            
            if (!url) {
                previewImg.style.display = 'none';
                emptyState.classList.remove('hidden');
                return;
            }

            emptyState.classList.add('hidden');
            previewImg.style.display = 'block';

            QRCode.toCanvas(canvas, url, {
                width: QR_SIZE,
                margin: 2,
                color: {
                    dark: '#000000',
                    light: '#FFFFFF'
                },
                errorCorrectionLevel: 'H'
            }, function (error) {
                if (error) console.error(error);
                // Update preview image
                previewImg.src = canvas.toDataURL();
            });
        }

        // Event Listeners
        input.addEventListener('input', generateQR);

        // Download Function
        function downloadQR(format) {
            const url = input.value;
            if (!url) return;

            if (format === 'svg') {
                QRCode.toString(url, {
                    type: 'svg',
                    margin: 2,
                    color: {
                        dark: '#000000',
                        light: '#FFFFFF'
                    }
                }, (err, string) => {
                    if (err) return;
                    const blob = new Blob([string], { type: 'image/svg+xml' });
                    const downloadUrl = URL.createObjectURL(blob);
                    const link = document.createElement('a');
                    link.href = downloadUrl;
                    link.download = `qrcode-${Date.now()}.svg`;
                    document.body.appendChild(link);
                    link.click();
                    document.body.removeChild(link);
                    URL.revokeObjectURL(downloadUrl);
                });
            } else {
                // PNG or JPG
                const image = canvas.toDataURL(`image/${format}`);
                const link = document.createElement('a');
                link.href = image;
                link.download = `qrcode-${Date.now()}.${format}`;
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
            }
        }

        // Copy Clipboard Function
        function copyToClipboard() {
            const url = input.value;
            if(!url) return;
            
            navigator.clipboard.writeText(url).then(() => {
                // Change icon to check
                copyIcon.setAttribute('data-lucide', 'check');
                copyIcon.classList.add('text-green-500');
                lucide.createIcons(); // Refresh icons to show check

                // Revert after 2s
                setTimeout(() => {
                    copyIcon.setAttribute('data-lucide', 'copy');
                    copyIcon.classList.remove('text-green-500');
                    lucide.createIcons(); // Refresh icons to show copy
                }, 2000);
            });
        }

        // Initial Generation
        window.onload = function() {
            generateQR();
        }
    </script>
</body>
</html>